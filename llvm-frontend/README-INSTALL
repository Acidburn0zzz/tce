Building and installation
=========================

Before building the LLVM/TCE compiler you need to have TCE installed along
with its headers somewhere in PATH so 'tce-config' script can be executed to
find the required header paths, etc. 

TCE and its headers can be installed after building TCE with 'make' by 
executing command 'make dev-install' instead of 'make install'. 

After you have installed TCE and its headers, build and install 
the LLVM/TCE as follows:

	autoreconf
	mkdir build && cd build
	../configure --prefix=$(tce-config --prefix)
	make && make install

Library and tools version prerequisites
=======================================

You need 'flex' or 'bison' to build LLVM. They should be found in all
Linux distributions.

Troubleshooting
===============

Compiling llvm-gcc fails when your CXX or CC has a compilation command with
multiple words, e.g., "ccache g++". A workaround is to use a script which
wraps the compilation commands, or in case of ccache use the symlink
trick (see man ccache). Actually what breaks it are " -quotation marks. 
It may also break if CXXFLAGS or CFLAGS are multi-words enclosed in
"-quotation marks.

Linker complains about missing libtce.so.0? You probably forgot to add
the /lib of your TCE installation to LD_LIBRARY_PATH environment variable.
Run 'export LD_LIBRARY_PATH=$(tce-config --prefix)/lib' and try again.

Make or configure fails at some point? Try with following known working
compiler settings:

CC=gcc
CXX=g++
CFLAGS=-O2
CXXFLAGS=-O2

Especially the llvm-gcc compilation is known to be picky about the 
CFLAGS.
